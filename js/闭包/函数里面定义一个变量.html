<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
</head>

<body>
    <script>

        /**
      *  定义闭包
      * 我们首先知道闭包有3个特性：
             ①函数嵌套函数
             ②函数内部可以引用函数外部的参数和变量
             ③参数和变量不会被垃圾回收机制回收
      *


      * 闭包的好处 *
        ①保护函数内的变量安全 ，实现封装，防止变量流入其他环境发生命名冲突
        ②在内存中维持一个变量，可以做缓存（但使用多了同时也是一项缺点，消耗内存）
        ③匿名自执行函数可以减少内存消耗

        * 闭包的坏处 *
        ①其中一点上面已经有体现了，就是被引用的私有变量不能被销毁，增大了内存消耗，造成内存泄漏，解决方法是可以在使用完变量后手动为它赋值为null；
        ②其次由于闭包涉及跨域访问，所以会导致性能损失，我们可以通过把跨作用域变量存储在局部变量中，然后直接访问局部变量，来减轻对执行速度的影响

     */

        // 列子一

        // function a(){
        //     var b = 123;
        //     c  = 456;
        // }

        // a();
        // console.log(c)// 456
        // console.log(b);//

        //Uncaught ReferenceError: b is not defined 总结一点就是函数的外部不能访问函数内部的变量。

        // 定义在函数内部的变量是有作用域的只有在函数内部生效。



        // 列子二 

            function fn (){
                var num = 3;
                return function(){
                    var n  = 0;
                    console.log(++n);
                    console.log(++num);
                }
            }

            var fn1 = fn();
            fn1();//1 4
            fn1();//1 5

    </script>
</body>

</html>