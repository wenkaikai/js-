<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
        var str = "2018-08-31 11:05:23+00:00"
        var str1 = str.replace(/\+.*/g,"");
        console.log(str1);
        var show = ""
        var time = new Date(str1);
        console.log(time.getTime());
        console.log(new Date().getTime())
        var subtract = new Date().getTime()-time.getTime();
        var temp = subtract/1000;//秒
        var temp1 = Math.floor(temp/60);//分钟
        var temp2 = Math.floor(temp1/60)//小时
        var temp3 = Math.floor(temp2/24)//天
        var temp4 = Math.floor(temp3/30)//月
        var temp5 = Math.floor(temp4/12)//年
        console.log(temp,temp1,temp2,temp3,temp4,temp5)
        if(temp<60){
            show = temp+"秒前"
        }
        if(temp1<60&&temp>60){
            show = temp1+"分前"
        }
        if(temp1>=60&&temp2<24){
            show = temp2+"小时前"
        }
        if(temp3<30&&temp2>=24){
             show = temp3+"天前"
        }
         if(temp3>=30&&temp4<12){
             show = temp4+"月前"
        }
        if(temp4>12){
            show = temp5+"年前" 
        }
             console.log(show)
    </script>
</body>
</html>